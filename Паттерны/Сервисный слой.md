![[Pasted image 20241124194530.png]]
Используется FlaskApi, чтобы поместить конечную точку API перед службой предметной области.
Сервисный слой выполняет роль абстракции для захвата варианта использования и будет находится между FlaskApi и моделью предметной области. Для тестов будет используется поддельный репозиторий.

Если посмотреть на действия приложения Flask, то мы увидим довольно многое из того, что можно назвать *оркестровой* - извлечение материала из репозитория, проверка входных данных по состоянию базы данных, обработка ошибок и фиксация в успешном результате сценария процесса. Большинство из этих вещей не имеют ничего общего с наличием конечной точки веб-API, и на самом дела это не то, что стоит тестировать сквозными тестами.
Часто имеет смысл разделять сервисный слой, иногда именуемым слоем *оркестровки*(orchestration layer), или слоем *варианта использования*(usercase layer).

